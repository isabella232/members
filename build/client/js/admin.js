$(function(){}),$(document).on("click",".reply-link",function(){var e=$(this),a=parseInt(e.data("message-id")),t=$("#message-reply-input-"+a);t.toggle(),"hidden"===t.attr("data-status")?t.attr("data-status","visible"):t.attr("data-status","hidden")}),$(document).on("click",".deactivate-link",function(){var e,a=$(this);return e=a.hasClass("deactivate-parent")?confirm("Are you sure? This will deactivate all replies."):confirm("Are you sure?"),!!e}),$(document).on("click",".deactivate-chapter-link",function(){var e=($(this),confirm("Are you sure? This will deactivate all associated lessons."));return!!e}),$(document).on("click",".update-chapter-button",function(){var e=$(this),a=parseInt(e.data("chapter-id"));$("#update-chapter-form")[0].reset(),$.ajax({type:"GET",url:"/admin/chapters/"+a}).done(function(e){var a=e.data;$("#update-chapter-form").data("chapter-id",a.id),$("#update-chapter-order-number").val(a.order_number),$("#update-chapter-name").val(a.name),a.active&&$("#update-chapter-active").prop("checked",!0)}).fail(function(e){console.log(e)})}),$("#update-chapter-form").on("submit",function(e){e.preventDefault();var a=$(this),t=parseInt(a.data("chapter-id")),n={chapterOrderNumber:$("#update-chapter-order-number").val(),chapterName:$("#update-chapter-name").val(),chapterActive:$("#update-chapter-active").prop("checked")};$.ajax({type:"PUT",data:n,url:"/admin/chapters/"+t}).done(function(e){window.location.replace("/admin/chapters")}).fail(function(e){console.log(e)})}),$(document).on("click",".update-user-button",function(){var e=$(this),a=parseInt(e.data("user-id"));$("#update-user-form")[0].reset(),$.ajax({type:"GET",url:"/admin/users/"+a}).done(function(e){var a=e.data;$("#update-user-form").data("user-id",a.id),$("#update-github-username").val(a.github_username),$("#update-github-id").val(a.github_id),$("#update-github-display-name").val(a.github_display_name),$("#update-github-avatar").val(a.github_avatar),$("#update-user-email").val(a.email),$("#update-github-token").val(a.github_access_token),a.admin&&$("#update-user-admin").prop("checked",!0),a.verified&&$("#update-user-verified").prop("checked",!0),a.active&&$("#update-user-active").prop("checked",!0)}).fail(function(e){console.log(e)})}),$("#update-user-form").on("submit",function(e){e.preventDefault();var a=$(this),t=parseInt(a.data("user-id")),n={githubUsername:$("#update-github-username").val(),githubID:$("#update-github-id").val(),githubDisplayName:$("#update-github-display-name").val(),githubToken:$("#update-github-token").val(),githubAvatar:$("#update-github-avatar").val(),email:$("#update-user-email").val(),admin:$("#update-user-admin").prop("checked"),verified:$("#update-user-verified").prop("checked"),active:$("#update-user-active").prop("checked")};$.ajax({type:"PUT",data:n,url:"/admin/users/"+t}).done(function(e){window.location.replace("/admin/users")}).fail(function(e){console.log(e)})}),$(document).on("click",".update-lesson-button",function(){var e=$(this),a=parseInt(e.data("lesson-id"));$("#update-lesson-form")[0].reset(),$.ajax({type:"GET",url:"/admin/lessons/"+a}).done(function(e){var a=e.data;$("#update-lesson-form").data("lesson-id",a.id),$("#update-lesson-order-number").val(a.lesson_order_number),$("#update-lesson-chapter-number").val(a.chapter_order_number),$("#update-lesson-name").val(a.name),$("#update-lesson-content").val(a.content),$("#update-lesson-chapter").val(a.chapter_id),a.active&&$("#update-lesson-active").prop("checked",!0)}).fail(function(e){console.log(e)})}),$("#update-lesson-form").on("submit",function(e){e.preventDefault();var a=$(this),t=parseInt(a.data("lesson-id")),n={lessonOrderNumber:$("#update-lesson-order-number").val(),chapterOrderNumber:$("#update-lesson-chapter-number").val(),lessonName:$("#update-lesson-name").val(),lessonContent:$("#update-lesson-content").val(),lessonActive:$("#update-lesson-active").prop("checked"),chapter:$("#update-lesson-chapter").val()};$.ajax({type:"PUT",data:n,url:"/admin/lessons/"+t}).done(function(e){window.location.replace("/admin/lessons")}).fail(function(e){console.log(e)})});